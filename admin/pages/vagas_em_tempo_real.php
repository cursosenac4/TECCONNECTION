<?php include '../templates/main-template.php'; ?>

<body onload="vagas_em_tempo_real()">

    <div class="container mt-3">
        <div class="row">
            <div class="col-3">
                <p class="p-2">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Excepturi ducimus minima, porro beatae fugiat aliquid voluptate autem eius nemo eaque!</p>
            </div>
            <div class="text-bg-primary col-6">
                <p class="p-2">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Doloribus sequi nemo labore vel, dolorum a alias officiis nulla voluptatem officia unde eius velit. Reprehenderit aliquam sit eos. Sint cumque autem alias, est eum modi, veniam nemo ducimus consequuntur ab pariatur?</p>
            </div>
            <article class="pt-3 col-3 border border-light-subtle">
                <table class="table table-striped text-capitalize">
                    <thead>
                        <tr>
                            <th scope="col">course</th>
                            <th scope="col">vagas</th>
                        </tr>
                    </thead>
                    <tbody id="vagas_em_tempo_real">
                    </tbody>
                </table>
                <div class="text-center">
                    <a href="#card-cursos" class="btn btn-warning mb-3 text-center my-auto">Garanta a sua!</a>
                </div>
            </article>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consectetur dolore alias quidem autem sed molestiae ducimus similique! Aperiam non ipsa vero accusantium odio, autem et temporibus enim distinctio commodi repellendus, earum repellat exercitationem. Repellendus ex sapiente modi ullam saepe quis odit ad, aliquid fugit neque officia distinctio earum atque corrupti quod reiciendis doloremque dolores error laboriosam! Iste porro ipsam exercitationem fugiat, delectus consectetur unde pariatur inventore voluptatum quos hic tenetur quis voluptas architecto distinctio quibusdam autem voluptate obcaecati ratione odit illum rem! Voluptates amet ipsa consequatur asperiores dolorem inventore mollitia quam omnis dolore eaque, assumenda reiciendis necessitatibus magni quibusdam saepe quidem qui consectetur incidunt aliquid debitis quos repellendus, minima error? Praesentium voluptatum nostrum ex maxime, nihil amet reiciendis odio dolorem aliquid voluptas quisquam asperiores aliquam ducimus, iusto facere totam necessitatibus officia? Sunt corrupti nam doloribus recusandae veritatis unde aliquam reiciendis ipsam consequuntur iusto labore expedita sapiente consectetur iure inventore nulla asperiores vitae sint harum velit soluta maxime, magni sit ipsum? Culpa, accusantium facilis. Ut nostrum totam fugiat temporibus commodi quis nisi beatae vel eum tempora? Sequi consequatur nam eius veniam reiciendis exercitationem beatae molestiae, soluta libero labore, perspiciatis expedita quisquam placeat molestias error voluptatibus cupiditate dolorum pariatur maiores! Cumque architecto atque alias excepturi odio adipisci provident rem itaque in aliquid libero, dolor, accusamus quo autem accusantium obcaecati explicabo, nostrum inventore voluptatem cupiditate reiciendis dicta corrupti ad! Illo ea itaque consequatur. Nobis repudiandae quae quod voluptate minima aut? Quidem, sapiente totam aspernatur non natus quisquam aperiam minus fugiat saepe architecto sint est eos alias nemo, nam adipisci autem corrupti quod deleniti obcaecati! Non nulla aspernatur, perspiciatis maiores doloremque porro nesciunt quisquam nisi ad et numquam reprehenderit dolores consequatur nam, rem excepturi recusandae minima amet placeat voluptatem! Ducimus eum nostrum earum unde blanditiis fuga, doloremque modi placeat ab voluptate, nesciunt, dicta corporis? Atque temporibus similique nobis dolores, rem odio neque nihil iusto nulla sapiente animi corporis voluptas dolorum, eos nesciunt molestiae ipsum libero harum? Dolorem facere accusantium ea cumque voluptates facilis ab, iste blanditiis ratione, autem id suscipit et atque nihil consequatur qui fugit fugiat! Similique natus nobis at pariatur eaque numquam reiciendis suscipit expedita ab. Ipsa temporibus quisquam deserunt odit, ipsam cumque consectetur error ut neque molestiae magnam, ex eius iste repellat placeat, blanditiis sed obcaecati corrupti amet eos aspernatur veniam earum et quas! Nisi, impedit quasi est amet voluptates optio eveniet dolore maiores fugiat ab enim expedita eos ipsam voluptas nihil, totam perspiciatis iste rerum. Fuga corrupti quibusdam, incidunt itaque unde beatae iure amet? Facilis dolorem, earum fuga quaerat qui blanditiis officia veritatis odio labore harum saepe, accusantium nesciunt optio eaque amet eius rerum rem, tempore corrupti a non! Dolorem quidem, repudiandae necessitatibus minus, optio laborum amet delectus officia dolore labore fuga. Molestiae amet nemo eligendi accusamus corrupti exercitationem quo ex quia quidem, fugit, voluptate quis nisi sed cupiditate maxime. Necessitatibus libero ratione fuga! Amet nisi doloribus iste ab nesciunt laudantium, voluptatum odit! Eum at sit, nam neque sequi libero fuga voluptates, cupiditate suscipit culpa iste vitae voluptas ullam, magni mollitia odio architecto magnam rerum vero explicabo fugit aperiam deserunt. Ratione dolor ea, vitae sunt provident commodi cupiditate. Repellendus quos voluptatum perspiciatis eveniet reiciendis dignissimos nobis pariatur totam illum officia aut voluptate, animi dolorem quia vero iusto itaque, nesciunt tempore fugiat ratione iure quod consequatur? Eos fugit sint libero dolore atque eum natus eaque doloremque fugiat adipisci impedit voluptates, veniam iusto earum corporis eius consectetur quidem inventore nemo dolores incidunt. Quaerat odit quam obcaecati cum animi voluptas modi temporibus iste aut necessitatibus, delectus aperiam earum nam rem possimus dolore, assumenda facere doloribus quibusdam molestias inventore dicta laudantium? Ea assumenda, adipisci accusantium expedita, illum ipsa autem culpa nobis corrupti necessitatibus minus nemo voluptas a quis impedit commodi ullam voluptates facilis deleniti, aperiam quos! Quaerat ratione ullam deserunt placeat dicta minus adipisci sapiente eos odit tempora praesentium possimus laboriosam, reiciendis soluta! Nihil exercitationem, adipisci aspernatur sed quaerat repellat velit quae excepturi optio esse? Accusamus praesentium est amet deleniti asperiores numquam, accusantium esse eaque mollitia vel aperiam fugit, quis adipisci! Nihil, fugiat? In, id nobis nostrum illum optio non dignissimos nesciunt, cupiditate odit cum qui! Sint natus quaerat distinctio nam autem illum ipsam veniam, facere quo corrupti a impedit doloremque pariatur nulla non iusto officia suscipit! Earum exercitationem quidem unde, neque sint rem suscipit ab facere vitae asperiores in deserunt iure quia illum. Veniam vitae consequatur veritatis aliquid eveniet placeat earum, cumque pariatur dolores saepe voluptas fuga laudantium repudiandae. Nobis, ducimus asperiores fugit aliquam nihil corrupti delectus maiores, expedita possimus necessitatibus neque recusandae voluptatum? Adipisci laborum cum dolores non ullam nostrum quasi accusamus amet reprehenderit, maiores ea harum qui quis nulla fuga aliquam accusantium, blanditiis corporis vitae dolore minus. Rerum, temporibus laudantium? Nihil at minus quis, suscipit voluptas aliquam obcaecati alias ex saepe nostrum ab modi ad totam tempore iste, dicta dolorem sunt quaerat vitae! Architecto quae mollitia perferendis id, laboriosam exercitationem sequi iste unde excepturi recusandae facilis labore ipsum aliquid accusantium, inventore tenetur culpa dolores, et reprehenderit deleniti amet possimus vitae. Dolore aliquam ipsa quod libero placeat expedita! Necessitatibus perspiciatis nemo unde, error ab architecto vitae ullam porro est alias sunt! Repellendus a odit ab nostrum cum maiores, pariatur eligendi rem laboriosam architecto. Illum magni eos aut rem consequatur perspiciatis id ipsa doloribus laborum natus sit iste totam velit amet, possimus eius animi modi quaerat laudantium tempore repellendus adipisci ducimus! Corrupti, reiciendis! Nam, temporibus modi? Culpa at dicta quibusdam animi, officiis enim tempore vel aliquid explicabo eum, consectetur maiores repellendus voluptates minus consequatur atque accusamus, nulla delectus sit. Ipsam rem exercitationem rerum deserunt iusto nesciunt explicabo! Voluptatibus corporis, repudiandae deserunt id quisquam excepturi quaerat assumenda accusamus quibusdam nam, eaque eveniet molestias, quae ipsum at? Iusto earum, eligendi illo quaerat impedit labore quidem laudantium possimus libero vel id sapiente pariatur non ad facere dolores tenetur, excepturi ab et minima. Libero facilis iure voluptatibus totam similique sit incidunt sed officiis amet non, sint sapiente quibusdam ducimus fugiat sunt odio nemo corporis. Quaerat ad quia modi, incidunt atque dolor consequatur inventore eum suscipit laudantium. Ea.</p>
            <div class="container">
                <div class="row" id="card-cursos">
                    <div class="col-3 border p-5"></div>
                    <div class="col-3 border p-5"></div>
                    <div class="col-3 border p-5"></div>
                    <div class="col-3 border p-5"></div>
                </div>
            </div>
        </div>
    </div>
</body>


<script>
    const vagas_em_tempo_real = () => {
        const url = "http://localhost/Backend-TEC-CONNECT/admin/api/all.php";
        fetch(url)
            .then(response => response.json())
            .then(curso => {
                let vagas_em_tempo_real = document.getElementById('vagas_em_tempo_real');
                vagas_em_tempo_real.innerHTML = '';
                let li = '';

                for (let index = 0; index < curso.length; index++) {
                    let nome = curso[index].nome;
                    let vagas_disponiveis = curso[index].vagas_disponiveis;
                    console.log(nome, vagas_disponiveis);
                    li += `<tr><td class='mx-2'>${nome}</td><td>${vagas_disponiveis}</td></tr>`;
                }
                vagas_em_tempo_real.insertAdjacentHTML('beforeend', li);
            })
            .catch(error => {
                console.error(error.message);
                setInterval(() => {}, 2000)
            });
    }

    setInterval(() => {
        vagas_em_tempo_real();
    }, 5000);
</script>

</html>